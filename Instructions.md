<h1 align="center">Подготовка к прошивке</h1>

## Установка и настройка Arduino IDE

> [!TIP]
> Если у вас уже есть настроенная Arduino IDE под ESP32-S3, вы можете пропустить этот пункт.
> 

1. Для начала скачайте IDE с официального [**сайта**](https://www.arduino.cc/en/software).
2. Далее выбираем **Файл** -> **Параметры** -> **Доп. ссылки для Менеджера плат** и вводим ссылку ниже:
```
https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json
```

3. Теперь можно установить сами платы, для этого **Инструменты** -> **Плата** -> **Менеджер плат**, вводим название и ждём окончания установки.

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/cad72e22-82ce-4a91-b52c-dbf0d241531c)
![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/57babe77-c3a5-468f-8fb5-15328c1b41cb)

4. Подключаем наше устройство и выбираем из списка нужную нам плату, после смотрим номер появившиеся COM порта (отличительный от COM1) и его выбираем.

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/0bc30865-1ca9-485c-9e78-0d22d0684cc3)

5. Также стоит немного изменить параметры в **Инструменты**, вам просто нужно сделать все как на фото ниже:

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/c7caf6d1-a2c8-4d4d-a9fb-cd5ae49aa9e4)

**Поздравляю, у вас есть Arduino IDE готовая для работы с устройством.**
## Установка библиотек
> [!WARNING]
> Библиотека **TFT_eSPI** уже настроена под работу с устройством, менять параметры стоит лишь если у вас конфигурация отличается от обычной (дисплей, драйвер)
>
Для коректной работы прошивки и отсутствие ошибок, нам нужно установить все библиотеки используемые в проекте. Они находятся по пути:
```
SwebOS 1.0 BETA\Libraries
```
Вы просто должны открыть папку и скопировать/вырезать файлы в папку программы, ее примерный путь выглядит так:
```
C:\Users\Имя_пользователя\Documents\Arduino\libraries
```
На этом установка заканчивается.
## Установка расширения для прошивки ESP32 на различные файловые системы (FATFS, LITTLEFS, SPIFFS)

> [!TIP]
> Этот пункт рекомендуется делать пользователям имеющие версию Arduino IDE 1.8.X и ниже
>

Это расширение может помочь вам мигрировать с одной ФС на другую сохраняя файлы с **data** папки в память платы для дальнейшего использования в проектах. Также дает возможность полностью очистить память вашей ESP32.
Для начала перейдите по примерному пути:
```
C:\Users\Имя_пользователя\Documents\Arduino
```
Сюда вам нужно будет закинуть папку tools из скачаного репозитория, она находится по пути:
```
SwebOS 1.0 BETA\Extension FS\
```
Теперь в **Инструменты** у вас должно появиться **ESP32 Sketch Data Upload**
## Настройка TFT_eSPI
> [!WARNING]
> Библиотека уже настроена под работу с устройством, менять параметры стоит лишь если у вас конфигурация отличается от обычной (дисплей, драйвер)
> 
**_Что делать если у меня другой драйвер дисплея или разрешение?_**

В таком случае вам стоит поменять некоторые данные в файле (строки 83-93):
Если отличается разрешение, например у вас есть дисплей ST7789 240*240, вы должны закомментировать старое и раскомментировать под свои нужды:

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/e3c074c8-558a-4614-825c-65717a399370)

Если у вас отличается драйвер дисплея, к пример у вас не ST7789 а ST7735, вы должны аналогично закомментировать ненужное и раскомментировать то что вам подходит (строки 44-65):

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/7b6dffdc-3873-4972-96a1-dcd2c2bc3837)

**_Что делать если у меня отличаются пины подключения диспслея?_**

В случае с ESP32 ищем строки 212-218, там выбираем пины под себя если они у вас отличаются.

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/25564ad1-9809-422a-b358-1ca1f48e3e0f)

**_Я хочу сделать свой сглаженный шрифт, как я могу это реализовать?_**
Для этого вам нужно перейти по пути:
```
C:\Users\Имя_пользователя\Documents\Arduino\libraries\TFT_eSPI\Tools\Create_Smooth_Font\Create_font
```
Дальше вы обнаружите **Create_font.pde**, чтобы его открыть вы должны скачать [**Processing**](https://processing.org/download).
Далее в папке **data** вы должны закинуть желаемый шрифт в формате **.ttf** или **.otf**. После этого нужно в строке 130 написать название вашего шрифта, в 137 строке его размер. Также по желанию можно добавить поддержку кириллицы раскомментировав 169 строку.

![image](https://github.com/Vispixad/ESP32-USB-Tester/assets/161984981/8d86f154-0179-46f8-a609-293d2226e547)

После старта вы получите файл .h который можно добавить в прошивку и использовать.
